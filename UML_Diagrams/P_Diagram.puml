@startuml Package Diagram - Bicycle Delivery Optimization (Student Project)

!define FRONTEND_COLOR #E8F4FD
!define BACKEND_COLOR #F0F8E8
!define MODEL_COLOR #FFF2E8

' Frontend React Application
package "Frontend (React)" FRONTEND_COLOR {
    component [MapView]
    component [CourierPanel]
    component [DeliveryForm]
    component [TourDisplay]
    component [FileManager]
    component [APIClient]
}

' Backend FastAPI Application
package "Backend (FastAPI)" BACKEND_COLOR {
    
    ' Controllers (MVC - Controller)
    package "Controllers" {
        component [MapController]
        component [DeliveryController]
        component [TourController]
    }
    
    ' Services (MVC - Business Logic)
    package "Services" {
        component [MapService]
        component [TourOptimizer]
        component [XMLParser]
    }
    
    ' Models (MVC - Model)
    package "Models" MODEL_COLOR {
        component [Map]
        component [Intersection]
        component [RoadSegment]
        component [Courier]
        component [DeliveryRequest]
        component [Tour]
    }
    
    ' Utilities
    package "Utils" {
        component [TSPSolver]
        component [FileHandler]
    }
}

' External Files
package "Data Files" {
    component [XMLMapFiles]
    component [SavedToursFiles]
}

' Frontend to Backend Communication
[APIClient] ..> [MapController] : HTTP/REST
[APIClient] ..> [DeliveryController] : HTTP/REST
[APIClient] ..> [TourController] : HTTP/REST

' Frontend Dependencies
[MapView] --> [APIClient]
[CourierPanel] --> [APIClient]
[DeliveryForm] --> [APIClient]
[TourDisplay] --> [APIClient]
[FileManager] --> [APIClient]

' Backend Dependencies
[MapController] --> [MapService]
[DeliveryController] --> [TourOptimizer]
[TourController] --> [TourOptimizer]

[MapService] --> [XMLParser]
[MapService] --> [Map]
[TourOptimizer] --> [TSPSolver]
[TourOptimizer] --> [Tour]
[XMLParser] --> [FileHandler]

' Model relationships
[Map] --> [Intersection]
[Map] --> [RoadSegment]
[Tour] --> [Courier]
[Tour] --> [DeliveryRequest]

' File dependencies
[XMLParser] --> [XMLMapFiles]
[FileHandler] --> [SavedToursFiles]

note top of "Frontend (React)"
  Simple React UI:
  - Map display
  - Add delivery requests
  - Show optimized tours
  - Load/save files
end note

note top of "Backend (FastAPI)"
  FastAPI REST API:
  - Load XML maps
  - Optimize delivery tours
  - Manage couriers
  - File operations
end note

note right of "Models"
  Core business objects:
  - 15 km/h speed
  - 8 AM start time
  - Pickup + Delivery pairs
end note

@enduml
